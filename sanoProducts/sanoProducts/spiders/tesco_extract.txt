import re as reg 
import requests as re
from tesco_spider import GrocerySpider
re.get('https://www.tesco.com/groceries/en-GB/products/274360096?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal%3E%20(referer:%20https://www.tesco.com/groceries/en-GB/products/274360096?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal')
re.text()
re.text
page = re.get('https://www.tesco.com/groceries/en-GB/products/274360096?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal%3E%20(referer:%20https://www.tesco.com/groceries/en-GB/products/274360096?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal?currentModal=ImageZoomModal')
page.text
from bs4 import BeautifulSoup as bs
soup = bs(page.text,'html.parser')
div_tags = soup.find_all('div')
div_tags[10]
product_block = soup.find_all('div',{'class':'product-blocks'})
product_block
len(product_block)
product_block.children[0]
product_block[0].children
elm = product_block[0].children
elm.__next__()
elm[0]
for e in elm:
	print e 
	break
pruducts_section product_block[0]
pruducts_section =  product_block[0]
titles = products_section.find_all('h2')
products_section =  product_block[0]
titles = products_section.find_all('h2')
titles[0]
titles[1]
len(titles)
title3 = products_section.find_all('h3')
len(title3)
title3[0]
title3[-1]
title3[-1].get_text()
print '\n'.join([t.get_text() for a in title3])
print '\n'.join([t.get_text() for t in title3])
title3[0]
title3[0].parent
title3[0]
title3[0].gettext()
title3[0].get_text()
title3[0].parent
title3[0].parent.children[1]
[a for a in title3[0].parent.children][1[]
[a for a in title3[0].parent.children][1]
[a for a in title3[1].parent.children][1]
title3[1].get_text()
['%s:%s'%(p.get_text(),[a for a in p.parent.children][1]) for p in title3]
def try1(product):
	try:
		product[1]
	
def try1(e):
	try:
		return e[1]
	except:
		return ''
['%s:%s'%(p.get_text(),try1([a for a in p.parent.children])) for p in title3]
print '\n'.join(['%s:%s'%(p.get_text(),try1([a for a in p.parent.children])) for p in title3])
print '\n'.join(['%s:%s'%(p.get_text(),try1([a for a in p.parent.children]).get_text()) for p in title3])
def try1(e):
	try:
		e[1]
	catch:
def tyr1(e)
def tyr1(e):
def try1(e):
	try:
		return e[1]
def try1(e):
	try:
		e[1]
	except:
		return {'get_text':lambda x:''}
print '\n'.join(['%s:%s'%(p.get_text(),try1([a for a in p.parent.children]).get_text()) for p in title3])
try1(1)
try1([1,3])
print(try1([1,3]))
def try1(e)
def try1(e):
	try:
		return e[1]
	catch:
def try1(e):
	try:
		e[1]
	except:
		return {'get_text':lambda x:''}
print '\n'.join(['%s:%s'%(p.get_text(),try1([a for a in p.parent.children]).get_text()) for p in title3])
def try1(e)
def try1(e):
	try:
		return e[1]
	except:
		return {'get_text':lambda x:''}
print '\n'.join(['%s:%s'%(p.get_text(),try1([a for a in p.parent.children]).get_text()) for p in title3])
class _getText():
	def get_text(self):
		return ''
def try1(e):
	try:
		return e[1]
	except:
		return _getText()
print '\n'.join(['%s:%s'%(p.get_text(),try1([a for a in p.parent.children]).get_text()) for p in title3])
import readline
readline.extract_to_file
readline.write_history_file('tesco_extract.txt')
